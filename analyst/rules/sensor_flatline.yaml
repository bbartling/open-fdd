# Flatline detection â€” resolved from Brick TTL (brick_type + rdfs:label)
name: sensor_flatline
description: Fault if sensor value does not change over window (stuck sensor)
type: flatline
flag: flatline_flag

inputs:
  # AHU sensors
  Supply_Air_Temperature_Sensor:
    brick: Supply_Air_Temperature_Sensor
  Mixed_Air_Temperature_Sensor:
    brick: Mixed_Air_Temperature_Sensor
  Return_Air_Temperature_Sensor:
    brick: Return_Air_Temperature_Sensor
  Outside_Air_Temperature_Sensor:
    brick: Outside_Air_Temperature_Sensor
  Supply_Air_Static_Pressure_Sensor:
    brick: Supply_Air_Static_Pressure_Sensor
  Supply_Air_Flow_Sensor:
    brick: Supply_Air_Flow_Sensor
  Power_Sensor:
    brick: Power_Sensor

  # Zone/VAV sensors
  Zone_Temperature_Sensor:
    brick: Zone_Temperature_Sensor
  Zone_Air_Flow_Sensor:
    brick: Zone_Air_Flow_Sensor

params:
  tolerance: 0.000001
  window: 40
  # rolling_window: 6   # optional: require N consecutive True samples before flagging (omit = flag on any True)