# Chiller plant â€” Flow unusually high at max pump speed
name: chw_flow_high_at_max_pump
description: Primary chilled water flow too high with pump at high speed
type: expression
flag: flow_high_flag

inputs:
  Water_Flow_Sensor:
    brick: Water_Flow_Sensor
    column: flow
  Pump_Speed_Command:
    brick: Pump_Speed_Command
    column: pump_speed

params:
  flow_error_threshold: 1000.0
  pump_speed_max: 0.95
  pump_speed_err_thres: 0.05

expression: |
  (Water_Flow_Sensor > flow_error_threshold) & (Pump_Speed_Command >= pump_speed_max - pump_speed_err_thres)
