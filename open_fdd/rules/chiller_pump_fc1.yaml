# Chiller plant â€” Differential pressure below setpoint at max pump speed
name: pump_diff_pressure_low
description: Variable pump does not meet differential pressure setpoint at full speed
type: expression
flag: dp_pump_flag

inputs:
  Differential_Pressure_Sensor:
    brick: Differential_Pressure_Sensor
  Differential_Pressure_Setpoint:
    brick: Differential_Pressure_Setpoint
  Pump_Speed_Command:
    brick: Pump_Speed_Command

params:
  diff_pressure_err_thres: 2.0
  pump_speed_max: 0.95
  pump_speed_err_thres: 0.05

expression: |
  (Differential_Pressure_Sensor < Differential_Pressure_Setpoint - diff_pressure_err_thres) & (Pump_Speed_Command >= pump_speed_max - pump_speed_err_thres)
