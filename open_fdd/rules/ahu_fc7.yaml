# AHU Fault Condition 7 â€” SAT too low in full heating
# Supply air temp too low when heating valve fully open
name: sat_too_low_full_heating
description: Supply air temperature too low in full heating mode with heating valve fully open
type: expression
flag: fc7_flag
equipment_type: [AHU, VAV_AHU]

inputs:
  sat:
    brick: Supply_Air_Temperature_Sensor
    column: sat
  sat_setpoint:
    brick: Supply_Air_Temperature_Setpoint
    column: sat_setpoint
  heating_sig:
    brick: Valve_Command
    column: heating_sig
  supply_vfd_speed:
    brick: Supply_Fan_Speed_Command
    column: supply_vfd_speed

params:
  supply_err_thres: 1.0

expression: |
  (sat < sat_setpoint - supply_err_thres) & (heating_sig > 0.9) & (supply_vfd_speed > 0)
